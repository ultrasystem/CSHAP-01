***************
*** 2649,2655 ****
  		return -EINVAL;
  	}
  
- 	bclk_rate = params_rate(params) * 2;
  	switch (params_format(params)) {
  	case SNDRV_PCM_FORMAT_S16_LE:
  		bclk_rate *= 16;
--- 2649,2655 ----
  		return -EINVAL;
  	}
  
+ 	bclk_rate = params_rate(params) * 4;
  	switch (params_format(params)) {
  	case SNDRV_PCM_FORMAT_S16_LE:
  		bclk_rate *= 16;
***************
*** 3439,3448 ****
  	int ret;
  	int report;
  
  	ret = regmap_read(regmap, WM8994_INTERRUPT_RAW_STATUS_2, &reg);
  	if (ret < 0) {
  		dev_err(dev, "Failed to read microphone status: %d\n",
  			ret);
  		return;
  	}
  
--- 3402,3414 ----
  	int ret;
  	int report;
  
+ 	pm_runtime_get_sync(dev);
+ 
  	ret = regmap_read(regmap, WM8994_INTERRUPT_RAW_STATUS_2, &reg);
  	if (ret < 0) {
  		dev_err(dev, "Failed to read microphone status: %d\n",
  			ret);
+ 		pm_runtime_put(dev);
  		return;
  	}
  
***************
*** 3485,3490 ****
  
  	snd_soc_jack_report(priv->micdet[1].jack, report,
  			    SND_JACK_HEADSET | SND_JACK_BTN_0);
  }
  
  static irqreturn_t wm8994_mic_irq(int irq, void *data)
--- 3451,3458 ----
  
  	snd_soc_jack_report(priv->micdet[1].jack, report,
  			    SND_JACK_HEADSET | SND_JACK_BTN_0);
+ 
+ 	pm_runtime_put(dev);
  }
  
  static irqreturn_t wm8994_mic_irq(int irq, void *data)
***************
*** 3607,3618 ****
  	int reg;
  	bool present;
  
  	mutex_lock(&wm8994->accdet_lock);
  
  	reg = snd_soc_read(codec, WM1811_JACKDET_CTRL);
  	if (reg < 0) {
  		dev_err(codec->dev, "Failed to read jack status: %d\n", reg);
  		mutex_unlock(&wm8994->accdet_lock);
  		return IRQ_NONE;
  	}
  
--- 3575,3589 ----
  	int reg;
  	bool present;
  
+ 	pm_runtime_get_sync(codec->dev);
+ 
  	mutex_lock(&wm8994->accdet_lock);
  
  	reg = snd_soc_read(codec, WM1811_JACKDET_CTRL);
  	if (reg < 0) {
  		dev_err(codec->dev, "Failed to read jack status: %d\n", reg);
  		mutex_unlock(&wm8994->accdet_lock);
+ 		pm_runtime_put(codec->dev);
  		return IRQ_NONE;
  	}
  
***************
*** 3846,3851 ****
  			dev_err(codec->dev,
  				"Failed to read mic detect status: %d\n",
  				reg);
  			return IRQ_NONE;
  		}
  
--- 3820,3826 ----
  			dev_err(codec->dev,
  				"Failed to read mic detect status: %d\n",
  				reg);
+ 			pm_runtime_put(codec->dev);
  			return IRQ_NONE;
  		}
  
***************
*** 3873,3878 ****
  		dev_warn(codec->dev, "Accessory detection with no callback\n");
  
  out:
  	return IRQ_HANDLED;
  }
  
--- 3848,3854 ----
  		dev_warn(codec->dev, "Accessory detection with no callback\n");
  
  out:
+ 	pm_runtime_put(codec->dev);
  	return IRQ_HANDLED;
  }
  
***************
*** 3926,3934 ****
  
  	if (wm8994->pdata && wm8994->pdata->micdet_irq)
  		wm8994->micdet_irq = wm8994->pdata->micdet_irq;
- 	else if (wm8994->pdata && wm8994->pdata->irq_base)
- 		wm8994->micdet_irq = wm8994->pdata->irq_base +
- 				     WM8994_IRQ_MIC1_DET;
  
  	pm_runtime_enable(codec->dev);
  	pm_runtime_idle(codec->dev);
--- 3902,3907 ----
  
  	if (wm8994->pdata && wm8994->pdata->micdet_irq)
  		wm8994->micdet_irq = wm8994->pdata->micdet_irq;
  
  	pm_runtime_enable(codec->dev);
  	pm_runtime_idle(codec->dev);
***************
*** 4274,4279 ****
  		break;
  	case WM8958:
  		if (wm8994->revision < 1) {
  			snd_soc_dapm_add_routes(dapm, wm8994_revd_intercon,
  						ARRAY_SIZE(wm8994_revd_intercon));
  			snd_soc_dapm_add_routes(dapm, wm8994_lateclk_revd_intercon,
--- 4251,4258 ----
  		break;
  	case WM8958:
  		if (wm8994->revision < 1) {
+ 			snd_soc_dapm_add_routes(dapm, wm8994_intercon,
+ 						ARRAY_SIZE(wm8994_intercon));
  			snd_soc_dapm_add_routes(dapm, wm8994_revd_intercon,
  						ARRAY_SIZE(wm8994_revd_intercon));
  			snd_soc_dapm_add_routes(dapm, wm8994_lateclk_revd_intercon,
