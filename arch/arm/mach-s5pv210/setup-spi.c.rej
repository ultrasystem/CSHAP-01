***************
*** 9,28 ****
   */
  
  #include <linux/gpio.h>
- #include <linux/platform_device.h>
- 
  #include <plat/gpio-cfg.h>
- #include <plat/s3c64xx-spi.h>
  
  #ifdef CONFIG_S3C64XX_DEV_SPI0
- struct s3c64xx_spi_info s3c64xx_spi0_pdata = {
- 	.fifo_lvl_mask	= 0x1ff,
- 	.rx_lvl_offset	= 15,
- 	.high_speed	= 1,
- 	.tx_st_done	= 25,
- };
- 
- int s3c64xx_spi0_cfg_gpio(struct platform_device *dev)
  {
  	s3c_gpio_cfgpin(S5PV210_GPB(0), S3C_GPIO_SFN(2));
  	s3c_gpio_setpull(S5PV210_GPB(0), S3C_GPIO_PULL_UP);
--- 9,18 ----
   */
  
  #include <linux/gpio.h>
  #include <plat/gpio-cfg.h>
  
  #ifdef CONFIG_S3C64XX_DEV_SPI0
+ int s3c64xx_spi0_cfg_gpio(void)
  {
  	s3c_gpio_cfgpin(S5PV210_GPB(0), S3C_GPIO_SFN(2));
  	s3c_gpio_setpull(S5PV210_GPB(0), S3C_GPIO_PULL_UP);
***************
*** 33,46 ****
  #endif
  
  #ifdef CONFIG_S3C64XX_DEV_SPI1
- struct s3c64xx_spi_info s3c64xx_spi1_pdata = {
- 	.fifo_lvl_mask	= 0x7f,
- 	.rx_lvl_offset	= 15,
- 	.high_speed	= 1,
- 	.tx_st_done	= 25,
- };
- 
- int s3c64xx_spi1_cfg_gpio(struct platform_device *dev)
  {
  	s3c_gpio_cfgpin(S5PV210_GPB(4), S3C_GPIO_SFN(2));
  	s3c_gpio_setpull(S5PV210_GPB(4), S3C_GPIO_PULL_UP);
--- 23,29 ----
  #endif
  
  #ifdef CONFIG_S3C64XX_DEV_SPI1
+ int s3c64xx_spi1_cfg_gpio(void)
  {
  	s3c_gpio_cfgpin(S5PV210_GPB(4), S3C_GPIO_SFN(2));
  	s3c_gpio_setpull(S5PV210_GPB(4), S3C_GPIO_PULL_UP);
