***************
*** 159,167 ****
  	if (clk->ops == NULL || clk->ops->set_rate == NULL)
  		return -EINVAL;
  
- 	spin_lock(&clocks_lock);
  	ret = (clk->ops->set_rate)(clk, rate);
- 	spin_unlock(&clocks_lock);
  
  	return ret;
  }
--- 160,168 ----
  	if (clk->ops == NULL || clk->ops->set_rate == NULL)
  		return -EINVAL;
  
+ 	spin_lock_irqsave(&clocks_lock, flags);
  	ret = (clk->ops->set_rate)(clk, rate);
+ 	spin_unlock_irqrestore(&clocks_lock, flags);
  
  	return ret;
  }
***************
*** 173,189 ****
  
  int clk_set_parent(struct clk *clk, struct clk *parent)
  {
  	int ret = 0;
  
  	if (IS_ERR(clk))
  		return -EINVAL;
  
- 	spin_lock(&clocks_lock);
  
  	if (clk->ops && clk->ops->set_parent)
  		ret = (clk->ops->set_parent)(clk, parent);
  
- 	spin_unlock(&clocks_lock);
  
  	return ret;
  }
--- 174,191 ----
  
  int clk_set_parent(struct clk *clk, struct clk *parent)
  {
+ 	unsigned long flags;
  	int ret = 0;
  
  	if (IS_ERR(clk))
  		return -EINVAL;
  
+ 	spin_lock_irqsave(&clocks_lock, flags);
  
  	if (clk->ops && clk->ops->set_parent)
  		ret = (clk->ops->set_parent)(clk, parent);
  
+ 	spin_unlock_irqrestore(&clocks_lock, flags);
  
  	return ret;
  }
