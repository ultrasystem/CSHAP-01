***************
*** 9,29 ****
   */
  
  #include <linux/gpio.h>
- #include <linux/platform_device.h>
- #include <linux/io.h>
- 
  #include <plat/gpio-cfg.h>
- #include <plat/cpu.h>
- #include <plat/s3c64xx-spi.h>
  
  #ifdef CONFIG_S3C64XX_DEV_SPI0
- struct s3c64xx_spi_info s3c64xx_spi0_pdata __initdata = {
- 	.fifo_lvl_mask	= 0x1ff,
- 	.rx_lvl_offset	= 15,
- 	.tx_st_done	= 25,
- };
- 
- int s3c64xx_spi0_cfg_gpio(struct platform_device *dev)
  {
  	if (soc_is_s5p6450())
  		s3c_gpio_cfgall_range(S5P6450_GPC(0), 3,
--- 9,18 ----
   */
  
  #include <linux/gpio.h>
  #include <plat/gpio-cfg.h>
  
  #ifdef CONFIG_S3C64XX_DEV_SPI0
+ int s3c64xx_spi0_cfg_gpio(void)
  {
  	if (soc_is_s5p6450())
  		s3c_gpio_cfgall_range(S5P6450_GPC(0), 3,
***************
*** 36,48 ****
  #endif
  
  #ifdef CONFIG_S3C64XX_DEV_SPI1
- struct s3c64xx_spi_info s3c64xx_spi1_pdata __initdata = {
- 	.fifo_lvl_mask	= 0x7f,
- 	.rx_lvl_offset	= 15,
- 	.tx_st_done	= 25,
- };
- 
- int s3c64xx_spi1_cfg_gpio(struct platform_device *dev)
  {
  	if (soc_is_s5p6450())
  		s3c_gpio_cfgall_range(S5P6450_GPC(4), 3,
--- 25,31 ----
  #endif
  
  #ifdef CONFIG_S3C64XX_DEV_SPI1
+ int s3c64xx_spi1_cfg_gpio(void)
  {
  	if (soc_is_s5p6450())
  		s3c_gpio_cfgall_range(S5P6450_GPC(4), 3,
